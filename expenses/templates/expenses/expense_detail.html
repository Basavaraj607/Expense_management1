{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <h4>Expense #{{ expense.id }}</h4>
    <ul class="list-group mb-3">
      <li class="list-group-item"><strong>User:</strong> {{ expense.user.get_full_name|default:expense.user.username }}</li>
      <li class="list-group-item"><strong>Amount:</strong> â‚¹{{ expense.amount }}</li>
      <li class="list-group-item"><strong>Category:</strong> {{ expense.category }}</li>
      <li class="list-group-item"><strong>Date:</strong> {{ expense.expense_date }}</li>
      <li class="list-group-item"><strong>Status:</strong> {{ expense.status }}</li>
      <li class="list-group-item"><strong>Description:</strong> {{ expense.description }}</li>
      <li class="list-group-item"><strong>Receipt:</strong> {{ expense.receipt_details }}</li>
      <li class="list-group-item"><strong>Manager comment:</strong> {{ expense.manager_comment }}</li>
    </ul>
    {% if manager_review %}
    <form method="post">
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label">Comment</label>
        <textarea name="manager_comment" class="form-control" rows="3"></textarea>
      </div>
      <button class="btn btn-success" name="action" value="approve" type="submit">Approve</button>
      <button class="btn btn-danger" name="action" value="reject" type="submit">Reject</button>
    </form>
    {% endif %}
    <a class="btn btn-secondary mt-3" href="{% if user.role == 'MANAGER' %}{% url 'expenses:manager_pending' %}{% else %}{% url 'expenses:history' %}{% endif %}">Back</a>
  </div>
</div>
{% endblock %}
